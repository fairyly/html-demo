# Google 开发者大会 2018

## 网站性能调优开发工具

> Lighthouse, Puppeteer 以及进阶部分

### Lighthouse

1.作为 Chrome 扩展程序运行

需要打开 Chrome 的开发者工具，点击 Audits，然后就可以看到 Lighthouse 界面


2.作为命令行工具运行

全局安装 `lighthouse`

```
npm install -g lighthouse
```

然后输入你的页面

```
lighthouse https://example.com
```

lighthouse 会自动生成 HTML 报告，你也可以使用 JSON 格式。

- 自动化部分

可以利用 TravisCI 来自动分析改动后的代码对于页面性能的影响

你只需要在 .travis.yml 里面加入以下代码：

```
language: node_js
script:
  - npm run lint
  - npm run build
after_success:
  - ."./travis/deploy_pr_gae.sh"
  - export LH_MIN_PASS_SCORE=96
  - export LH_TEST_URL=https://your.staging.server.com/
  - node travis/runlighthouse.js $LH_TEST_URL $LH_MIN_PASS_SCORE

```
- https://github.com/ebidel/lighthouse-ci


## 参考
- https://juejin.im/post/5ba73d1de51d450e551a0d08
- https://juejin.im/e/gdd
