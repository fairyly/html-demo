# 全选全不选判断
```
$(function(){
                var nature = [
                    {
                        name: "直营门店",
                        check: false
                    },
                    {
                        name: "代理门店",
                        check: false
                    },
                    {
                        name: "联营门店",
                        check: false
                    },
                    {
                        name: "代销门店",
                        check: false
                    },
                    {
                        name: "托管门店",
                        check: true
                    }
                ];
                
                append()//追加数据
                function append() {
                    var checklist = [];
                    nature.forEach(function(el,index) {
                    // body...
                        var show = '';
                        if (el.check == true) {
                            show = 'checked="checked"';
                            checklist.push(true)
                        }else {
                            show = '';
                        }
                        var label = '<label class="weui_cell weui_check_label" for="s'+index+'"><div class="weui_cell_hd"><input type="checkbox" class="weui_check" name="checkbox1" id="s'+index+'"'+show+'><i class="weui_icon_checked"></i></div><div class="weui_cell_bd weui_cell_primary"><p>'+el.name+'</p></div></label>';
                        $('.nature-list').append(label)
                    })
                }

                checkall()//检查全选
                function checkall() {
                    console.log("检查全选不")
                    var listLength = $('.nature-list label input').length;
                    var checkedLength = $(".nature-list input[type='checkbox']:checked").length;
                    
                    if (listLength == checkedLength) {
                        console.log('全选')
                        $('.ckeckall label input[type=checkbox]').prop('checked',true)
                    }else{
                        console.log('不全选')
                        $('.ckeckall label input[type=checkbox]').prop('checked',false)
                    }
                    console.log(listLength,checkedLength)
                }
                //单个点击
                $('.nature-list label').click(function(){
                    checkall();
                })
                //全选
                $('.ckeckall label').click(function() {
                    var check = $('.ckeckall label input').prop('checked')
                    console.log($('.ckeckall label input').prop('checked'))
                    if(check){
                        $('.nature-list [type=checkbox]').prop('checked', true);
                    }else {
                        $('.nature-list [type=checkbox]').prop('checked', false);
                    }
                })

            })
            
        </script>
```

# 判断全选\全不选 二级判断

```
 <div class="store-select-contain">
            <div class="select_navbar store-classify">
                <div class="select_navbar_item">
                    <p >
                        所有门店
                    </p>
                </div>
                <div class="select_navbar_item">
                    <p class="active">
                        门店分组
                    </p>
                </div>
                <div class="select_navbar_item">
                    <p>
                        单选门店
                    </p>
                </div>
            </div>
            <div class="weui_cells weui_cells_checkbox ckeck-allstore">
                <label class="weui_cell weui_check_label" for="all" >
                    <div class="weui_cell_bd weui_cell_primary">
                        <p>门店分组</p>
                    </div>
                </label>
            </div>
            
            <div class="weui_cells weui_cells_checkbox nature-list store-group-list">
                <!-- <label class="weui_cell weui_check_label weui_cells_access" for="s">
                    <div class="weui_cell_hd">
                        <input type="checkbox" class="weui_check" name="checkbox1" id="s"><i class="weui_icon_checked"></i>
                    </div>
                    <div class="weui_cell_bd weui_cell_primary"><p>城西银泰门店</p></div>
                    <div class="weui_cell_ft"></div>
                </label>
                <div class="label-list">
                   <label class="weui_cell weui_check_label weui_cells_access" for="ss">
                       <div class="weui_cell_hd">
                           <input type="checkbox" class="weui_check" name="checkbox1" id="ss"><i class="weui_icon_checked"></i>
                       </div>
                       <div class="weui_cell_bd weui_cell_primary"><p>11111</p></div>
                   </label>
                </div> -->
            </div>
            <div class="store-classify-foot">
                <div class="classify-cell">
                    <div class="classify-foot-left">已选择:<span class="selnum">2</span>个区</div>
                    <div class="classify-foot-right"><a href="javascript:;" class="weui_btn weui_btn_mini weui_btn_primary">确定</a></div>
                </div>
                
            </div>
        </div>
        <script src="js/jquery-1.11.1.min.js"></script>
        
        <script type="text/javascript">
            $(function(){
                //选择门店导航
                $('.select_navbar_item').click(function(e) {
                    $(this).children('p').addClass('active');
                    $(this).siblings().children('p').removeClass('active');
                })
               
               var nature = [
                    {
                        name: "华东区",
                        check: false,
                        children: [
                            {
                                name: "华东1区",
                                check: false,
                            },
                            {
                                name: "华东2区",
                                check: false,
                            }
                        ]
                    },
                    {
                        name: "华西区",
                        check: false,
                        children: [
                            {
                                name: "华西1区",
                                check: false,
                            },
                            {
                                name: "华西2区",
                                check: false,
                            }
                        ]
                    },
                    {
                        name: "华南区",
                        check: false,
                        children: [
                            {
                                name: "华南1区",
                                check: false,
                            },
                            {
                                name: "华南2区",
                                check: false,
                            }
                        ]
                    },
                    {
                        name: "华北区",
                        check: true,
                        children: [
                            {
                                name: "华北1区",
                                check: true,
                            },
                            {
                                name: "华北2区",
                                check: true,
                            }
                        ]
                    },
                    {
                        name: "华中区",
                        check: false,
                        children: [
                            {
                                name: "华北1区",
                                check: true,
                            },
                            {
                                name: "华北2区",
                                check: false,
                            }
                        ]
                    }
                ];
                
                append()//追加数据
                function append() {
                    var checklist = [];
                    nature.forEach(function(el,index) {
                        var show = '';
                        if (el.check == true) {
                            show = 'checked="checked"';
                            checklist.push(true)
                        }else {
                            show = '';
                        }
                        var label = '<div class="area-cell list-cell'+index+'"><label class="area-cell-label weui_cell weui_check_label weui_cells_access s'+index+'" for="s'+index+'"><div class="weui_cell_hd"><input type="checkbox" class="weui_check" name="checkbox1" id="s'+index+'"'+show+'><i class="weui_icon_checked"></i></div><div class="weui_cell_bd weui_cell_primary"><p>'+el.name+'</p></div><div class="weui_cell_ft" data-role="0"></div></label></div>';
                        
                        $('.nature-list').append(label)//第一层数据
                        // $('.label-list').empty();
                        for (let i = 0; i < el.children.length; i++) {
                            var showchild = '';
                            if (el.children[i].check == true) {
                                showchild = 'checked="checked"';
                            }else {
                                showchild = '';
                            }
                            var labelchild = '<div class="label-list"><label class="weui_cell weui_check_label" for="s'+index+i+'"><div class="weui_cell_hd"><input type="checkbox" class="weui_check" name="checkbox1" id="s'+index+i+'"'+showchild+'><i class="weui_icon_checked"></i></div><div class="weui_cell_bd weui_cell_primary"><p>'+el.children[i].name+'</p></div></label></div>';
                            $('.list-cell'+index).append(labelchild) //第二层数据列表
                            // console.log(i+"二级数据",$('.label-list'))
                        }
                        // console.log(index+"条数据",el)
                        
                        // console.log(index+"条数据",$('.label-list'))
                    })
                    checknum()//检查选择数量
                }

                //检查选择数量
                function checknum() {
                    var checkedLength = $(".nature-list .label-list input[type='checkbox']:checked").length;
                    $('.selnum').html(checkedLength)
                }
                //单个点击判断全选
                $('.label-list .weui_cell_hd').click(function(){
                    
                    var len = $(this).parent().parent().parent().find(".label-list input[type='checkbox']").length;//单个区域中的区域个数
                    var childlength = $(this).parent().parent().parent().find(".label-list input[type='checkbox']:checked").length;//单个区域中的选中个数
                    console.log(len)
                    if(len == childlength){
                        $(this).parent().parent().parent().find('.area-cell-label .weui_cell_hd input').prop('checked', true);
                    }else {
                        $(this).parent().parent().parent().find('.area-cell-label .weui_cell_hd input').prop('checked', false);
                    }
                    checknum(); //判断选择数量
                })

                //下拉点击
                $('.weui_cell_ft').click(function(e) {
                    // e.stopPropagation();
                    e.preventDefault();
                    if ($(this).attr('data-role') == 1) {
                        $(this).parent().nextAll('.label-list').hide();
                        $(this).css("transform","rotate(0deg)");
                        $(this).attr('data-role',0)
                    }else {
                        $(this).parent().nextAll('.label-list').show();
                        $(this).css("transform","rotate(90deg)");
                        $(this).attr('data-role',1)
                    }
                })

                //单个区域全选/全不选
                $('.area-cell .area-cell-label .weui_cell_hd').click(function(){
                    
                    var check = $(this).children('input').prop('checked');
                    console.log(check)
                    if(check){
                        console.log( $(this).parent().siblings().find('input'))
                        $(this).parent().siblings().find('.weui_cell_hd input').prop('checked', true);
                    }else {
                        $(this).parent().siblings().find('.weui_cell_hd input').prop('checked', false);
                    }
                    checknum(); //判断选择数量
                })
            })
            
        </script>
```
