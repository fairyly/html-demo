# Flow: JavaScript 静态类型检查工具

### 类型检查的定义：
>类型检查，就是在编译期尽早发现（由类型错误引起的）bug，  
又不影响代码运行（不需要运行时动态检查类型），  
使编写 JavaScript 具有和编写 Java 等强类型语言相近的体验  

在vue中使用Flow做静态类型检查，是因为 Babel 和 ESLint 都有对应的 Flow 插件以支持语法，  
可以完全沿用现有的构建配置，非常小成本的改动就可以拥有静态类型检查的能力

### Flow的工作方式（类型检查的方式）--两种

- 类型判断：不需要修改代码，即可进行类型检查，自动通过变量的使用上下文来推断出变量类型，然后根据这些推断来检查类型

- 类型注释：事先注释好我们期待的类型，Flow 会基于这些注释来判断

一些常见的类型注释的语法：

- 1）函数的类型注释

```
function add(x: number, y: number): number {
  return x + y      //x的类型是number,y的类型是number，函数的返回值类型是number
}
add('Hello', 11)
```

- 2）数组类型注释：Array<T>,T表示数组中每项的数据类型
```
var arr: Array<number> = [1, 2, 3]
arr.push('Hello')
```

- 3）类类型注释

```
class Bar {
  x: string;           // x 是字符串
  y: string | number;  // y 可以是字符串或者数字
  z: boolean;
  constructor(x: string, y: string | number) {
    this.x = x
    this.y = y
    this.z = false
  }
}
var bar: Bar = new Bar('hello', 4)
```

- 4）对象类型注释
```
var obj: { a: string, b: number, c: Array<string>, d: Bar } = {
  a: 'hello',
  b: 11,
  c: ['hello', 'world'],
  d: new Bar('hello', 3)
}
```

- 5）如果想指定类型为null或者undefined，只需要写成?T形式
```
var foo: ?string = null   //foo可以为字符串也可以为bull
```

## install

- [docs---install](https://flow.org/en/docs/install/)

## 参考
- [GitHub---flow](https://github.com/facebook/flow)
- [docs](https://flow.org/en/docs/getting-started/)
- [Flow的简单介绍](https://blog.csdn.net/tangxiujiang/article/details/80778627)
- [使用 Flow 写更好的 JavaScript 代码](https://www.oschina.net/translate/writing-better-javascript-with-flow?cmp)
