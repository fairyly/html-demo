# MQTT协议:一个客户端服务端架构的发布/订阅模式的消息传输协议

>它的设计思想是轻巧、开放、简单、规范，易于实现。  
这些特点使得它对很多场景来说都是很好的选择，  
特别是对于受限的环境如机器与机器的通信（M2M）以及物联网环境（IoT）。



## MQTT.js is a client library for the MQTT protocol, written in JavaScript for node.js and the browser.

>node.js 中使用

### install

```
npm install mqtt --save
```
### Example

For the sake of simplicity, let's put the subscriber and the publisher in the same file:

```
var mqtt = require('mqtt')
var client  = mqtt.connect('mqtt://test.mosquitto.org')

client.on('connect', function () {
  client.subscribe('presence', function (err) {
    if (!err) {
      client.publish('presence', 'Hello mqtt')
    }
  })
})

client.on('message', function (topic, message) {
  // message is Buffer
  console.log(message.toString())
  client.end()
})



output:

Hello mqtt
```


## 参考
- [MQTT协议中文版](https://github.com/mcxiaoke/mqtt)
- [docs](https://mcxiaoke.gitbooks.io/mqtt-cn/content/)
- [MQTT.js](https://github.com/mqttjs/MQTT.js)
