# 国际手机号码正则校验

```
/(\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$/

var p =/^\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/;

```

* stackoverflow: https://stackoverflow.com/questions/2113908/what-regular-expression-will-match-valid-international-phone-numbers
* GitHub: https://github.com/mledoze/countries
* countryCode json:https://github.com/xxxdepy/simple-country-dial-codes/blob/master/country-calling-codes.json

* http://jackon.me/posts/validate-phone-number/
* https://stackoverflow.com/questions/723587/whats-the-longest-possible-worldwide-phone-number-i-should-consider-in-sql-varc



检验库
* https://github.com/jackocnr/intl-tel-input


解决思路: 不同的国家对应不同的校验规则

```
var regCodes = {
	'+86':/^1[3|4|5|7|8][0-9]{9}$/,
  '+':
}

function regCountryCode(code,phone) {
	if(regCodes[code].test(phone)) {
		return true;
	} else {
		return false;
	}
}
```

## awesome-phonenumber

```
npm i -S awesome-phonenumber


# node

var PhoneNumber = require( 'awesome-phonenumber' );

// var pn = new PhoneNumber( '0707123456', 'SE' ); // SE 国家代号

var pn = new PhoneNumber( '+86132391804563');
pn.isValid( );  // -> true
console.log(pn.isValid( ));
pn.isMobile( ); // -> true
pn.canBeInternationallyDialled( ); // -> true
pn.getNumber( );                   // -> '+46707123456'
pn.getNumber( 'e164' );            // -> '+46707123456' (default)
pn.getNumber( 'international' );   // -> '+46 70 712 34 56'
pn.getNumber( 'national' );        // -> '070-712 34 56'
pn.getNumber( 'rfc3966' );         // -> 'tel:+46-70-712-34-56'
pn.getNumber( 'significant' );     // -> '707123456'
pn.getRegionCode( );               // -> 'SE'

pn.toJSON( );                  // -> json blob, so that:
JSON.stringify( pn, null, 4 ); // -> This:
console.log(JSON.stringify( pn, null, 4 )); // 
console.log(PhoneNumber( '+46707123456' ).getRegionCode( )); // 获取国家代号
console.log(PhoneNumber.getRegionCodeForCountryCode( 46 ));   // 获取国家代号
console.log(PhoneNumber.getCountryCodeForRegionCode( 'SE' )); // 获取国家（或地区）码
```


## 参考
- [googlei18n/libphonenumber](https://github.com/googlei18n/libphonenumber)
- [grantila/awesome-phonenumber](https://github.com/grantila/awesome-phonenumber)
- [stripe/jquery.mobilePhoneNumber](https://github.com/stripe/jquery.mobilePhoneNumber)
